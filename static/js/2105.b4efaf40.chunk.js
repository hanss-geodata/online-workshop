"use strict";(globalThis.webpackChunkonline_workshop=globalThis.webpackChunkonline_workshop||[]).push([[2105],{82272:(e,t,n)=>{n.d(t,{BN:()=>l,Yc:()=>r,mx:()=>i});var a=n(42265);const s="woff2",o=new Map;async function i(e){const t=r(e);let n=o.get(t);if(n)return n;const i=new FontFace(e.family,`url('${a.Z.fontsUrl}/woff2/${t}.${s}') format('${s}')`),l=document.fonts;return l.has(i)&&"loading"===i.status?i.loaded:(n=i.load(),o.set(t,n),l.add(i),n)}function l(e){if(!e)return"arial-unicode-ms";const t=e.toLowerCase().split(" ").join("-");switch(t){case"serif":return"noto-serif";case"sans-serif":return"arial-unicode-ms";case"monospace":return"ubuntu-mono";case"fantasy":return"cabin-sketch";case"cursive":return"redressed";default:return t}}function r(e){const t=function(e){if(!e.weight)return"";switch(e.weight.toLowerCase()){case"bold":case"bolder":return"-bold"}return""}(e)+function(e){if(!e.style)return"";switch(e.style.toLowerCase()){case"italic":case"oblique":return"-italic"}return""}(e);return l(e.family)+(t.length>0?t:"-regular")}},52105:(e,t,n)=>{n.r(t),n.d(t,{getContrastingBackgroundTheme:()=>L,getRenderSymbolParameters:()=>x,previewSymbol2D:()=>z});var a=n(51995),s=n(10064),o=n(82272),i=n(17842),l=n(79563),r=n(37817),c=n(1682);function u(e){let{r:t,g:n,b:s,a:o}=e;return o<1&&(t=Math.round(o*t+255*(1-o)),n=Math.round(o*n+255*(1-o)),s=Math.round(o*s+255*(1-o))),new a.Z({r:t,g:n,b:s})}function h(e){const{r:t,g:n,b:a}=u(e);return.2126*t+.7152*n+.0722*a}const m="picture-fill",d=r.b_.size,p=r.b_.maxSize,f=r.b_.maxOutlineSize,w=r.b_.lineWidth,y=225,g=document.createElement("canvas");function b(e,t){const n=g.getContext("2d"),a=[];return t&&(t.weight&&a.push(t.weight),t.size&&a.push(t.size+"px"),t.family&&a.push(t.family)),n.font=a.join(" "),n.measureText(e).width}function v(e){if(0===e.length)return 0;if(e.length>2){const t=(0,i.Wz)(1),n=parseFloat(e);switch(e.slice(-2)){case"px":return n;case"pt":return n*t;case"in":return 72*n*t;case"pc":return 12*n*t;case"mm":return 2.8346456692913384*n*t;case"cm":return 28.346456692913385*n*t}}return parseFloat(e)}function k(e){const t=e?.size;return{width:null!=t&&"object"==typeof t&&"width"in t?(0,i.F2)(t.width):null,height:null!=t&&"object"==typeof t&&"height"in t?(0,i.F2)(t.height):null}}function M(e,t){return e>t?"dark":"light"}function x(e,t){const n="number"==typeof t?.size?t?.size:null,a=null!=n?(0,i.F2)(n):null,s=null!=t?.maxSize?(0,i.F2)(t.maxSize):null,o=null!=t?.rotation?t.rotation:"angle"in e?e.angle:null,c=(0,l._M)(e);let u=(0,l.mx)(e);"dark"!==L(e,245)||t?.ignoreWhiteSymbols||(u={width:.75,...u,color:"#bdc3c7"});const h={shape:null,fill:c,stroke:u,offset:[0,0]};u?.width&&(u.width=Math.min(u.width,f));const y=u?.width||0;let g=null!=t?.size&&(null==t?.scale||t?.scale),M=0,x=0,z=!1;switch(e.type){case"simple-marker":{const n=e.style,{width:l,height:r}=k(t),c=l===r&&null!=l?l:null!=a?a:Math.min((0,i.F2)(e.size),s||p);switch(M=c,x=c,n){case"circle":h.shape={type:"circle",cx:0,cy:0,r:.5*c},g||(M+=y,x+=y);break;case"cross":h.shape={type:"path",path:[{command:"M",values:[0,.5*x]},{command:"L",values:[M,.5*x]},{command:"M",values:[.5*M,0]},{command:"L",values:[.5*M,x]}]};break;case"diamond":h.shape={type:"path",path:[{command:"M",values:[0,.5*x]},{command:"L",values:[.5*M,0]},{command:"L",values:[M,.5*x]},{command:"L",values:[.5*M,x]},{command:"Z",values:[]}]},g||(M+=y,x+=y);break;case"square":h.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[M,0]},{command:"L",values:[M,x]},{command:"L",values:[0,x]},{command:"Z",values:[]}]},g||(M+=y,x+=y),o&&(z=!0);break;case"triangle":h.shape={type:"path",path:[{command:"M",values:[.5*M,0]},{command:"L",values:[M,x]},{command:"L",values:[0,x]},{command:"Z",values:[]}]},g||(M+=y,x+=y),o&&(z=!0);break;case"x":h.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[M,x]},{command:"M",values:[M,0]},{command:"L",values:[0,x]}]},o&&(z=!0);break;case"path":h.shape={type:"path",path:e.path||""},g||(M+=y,x+=y),o&&(z=!0),g=!0}break}case"simple-line":{const{width:e,height:n}=k(t),s=null!=n?n:null!=a?a:y,o=null!=e?e:w;u&&(u.width=s),M=o,x=s;const i=h?.stroke?.cap||"butt",l="round"===i;g=!0,h.stroke&&(h.stroke.cap="butt"===i?"square":i),h.shape={type:"path",path:[{command:"M",values:[l?s/2:0,x/2]},{command:"L",values:[l?M-s/2:M,x/2]}]};break}case m:case"simple-fill":{const e="object"==typeof t?.symbolConfig&&t?.symbolConfig.isSquareFill,{width:n,height:s}=k(t);M=!e&&n!==s||null==n?null!=a?a:d:n,x=!e&&n!==s||null==s?M:s,g||(M+=y,x+=y),g=!0,h.shape=e?{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[M,0]},{command:"L",values:[M,x]},{command:"L",values:[0,x]},{command:"L",values:[0,0]},{command:"Z",values:[]}]}:r.JZ.fill[0];break}case"picture-marker":{const n=Math.min((0,i.F2)(e.width),s||p),l=Math.min((0,i.F2)(e.height),s||p),{width:r,height:c}=k(t),u=r===c&&null!=r?r:null!=a?a:Math.max(n,l),m=n/l;M=m<=1?Math.ceil(u*m):u,x=m<=1?u:Math.ceil(u/m),h.shape={type:"image",x:-Math.round(M/2),y:-Math.round(x/2),width:M,height:x,src:e.url||""},o&&(z=!0);break}case"text":{const n=e,o=t?.overrideText||n.text||"Aa",l=n.font,{width:r,height:c}=k(t),u=null!=c?c:null!=a?a:Math.min((0,i.F2)(l.size),s||p),m=b(o,{weight:l.weight,size:u,family:l.family}),d=/[\uE600-\uE6FF]/.test(o);M=r??(d?u:m),x=u;let f=.25*v((l?u:0).toString());d&&(f+=5),h.shape={type:"text",text:o,x:n.xoffset||0,y:n.yoffset||f,align:"middle",alignBaseline:n.verticalAlignment,decoration:l&&l.decoration,rotated:n.rotated,kerning:n.kerning},h.font=l&&{size:u,style:l.style,decoration:l.decoration,weight:l.weight,family:l.family};break}}return{shapeDescriptor:h,size:[M,x],renderOptions:{node:t?.node,scale:g,opacity:t?.opacity,rotation:o,useRotationSize:z,effectView:t?.effectView}}}async function z(e,t){const{shapeDescriptor:n,size:a,renderOptions:i}=x(e,t);if(!n.shape)throw new s.Z("symbolPreview: renderPreviewHTML2D","symbol not supported.");await async function(e,t){const n=t.fill,a=e.color;if("pattern"===n?.type&&a&&e.type!==m){const e=await(0,l.Od)(n.src,a.toCss(!0));n.src=e,t.fill=n}}(e,n),await async function(e,t,n,a){if(!("font"in e)||!e.font||"text"!==t.shape.type)return;try{await(0,o.mx)(e.font)}catch{}const{width:s}=k(a),i=/[\uE600-\uE6FF]/.test(t.shape.text);null!=s||i||(n[0]=b(t.shape.text,{weight:t.font.weight,size:t.font.size,family:t.font.family}))}(e,n,a,t);const u=[[n]];if("object"==typeof t?.symbolConfig&&t?.symbolConfig.applyColorModulation){const e=.6*a[0];u.unshift([{...n,offset:[-e,0],fill:(0,r.dc)(n.fill,-.3)}]),u.push([{...n,offset:[e,0],fill:(0,r.dc)(n.fill,.3)}]),a[0]+=2*e,i.scale=!1}return(0,c.w)(u,a,i)}function L(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y;const n=(0,l._M)(e),s=(0,l.mx)(e),o=!n||"type"in n?null:new a.Z(n),i=s?.color?new a.Z(s?.color):null,r=o?M(h(o),t):null,c=i?M(h(i),t):null;return c?r?r===c?r:t>=y?"light":"dark":c:r}}}]);
//# sourceMappingURL=2105.b4efaf40.chunk.js.map